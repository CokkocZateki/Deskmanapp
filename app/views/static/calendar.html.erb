<!DOCTYPE html>
<html>
<head>
<script>
$(document).ready(function() {
  var eventslist = <%= get_record %>;
  var selectedEvent;
  $('#shift-options-menu').hide()
  $('#new-shift').hide()
  $('#calendar').fullCalendar({
    eventSources: [
      {
        events: eventslist, 
        color: "black",
      }
    ],
    allDayDefault: false,
    ignoreTimezone: false,
    defaultView: 'agendaWeek',
    header: {
    center: 'month,agendaWeek',
    },
    editable: true,
    //eventClick: function() {
    //  $(this).css('border-color', 'red');
    //},
    eventMouseover: function(calEvent, jsEvent, view) {
        // change the border color just for fun
        $(this).css('border-color', 'red');

    },
    eventMouseout: function(calEvent, jsEvent, view) {
        // change the border color just for fun
        $(this).css('border-color', 'black');
        //$('#shift-options-menu').hide()

    },
    eventClick: function(calEvent, jsEvent, view) {
        // change the border color just for fun
        $(this).css('opacity', .5);
        //alert( "Event id is " + calEvent.id);
        //alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);
        var menux = jsEvent.pageX - 125;
        var menuy = jsEvent.pageY - 5;
        selectedEvent = calEvent.id;
        $('#shift-options-menu').css({"top":menuy,"left":menux}).fadeIn();

    },
    dayClick: function(date, allDay, jsEvent, view) {
      //alert('Clicked on: ' + date);
      //alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);
      //alert('Current view: ' + view.name);
      $('#new-shift').slideDown();
    }
  });
  $('#shift-options-menu').click(function() {
    $(this).fadeOut();
  })
  .mouseleave(function() {
    $(this).fadeOut();
  });
  
  //$('#new-shift').slideUp()

  $('#new-shift').mouseleave(function() {
    $(this).hide();
  });
  $(function() {
    $('button')
    .button()
    .click(function( event ) {
      event.preventDefault();
    });
  });
  
  $('button').click(function(event) {
    var hostname = window.location.hostname + "/shifts/";
    window.location = $(this).text().replace(' ', '_');
  });

});


</script>
<style>

	body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		}

	#calendar {
		width: 900px;
		margin: 0 auto;
		}

  #shift-options-menu {
    position: absolute;
    top: 0;
    background-color: black;
    z-index: 100;
    display: inline-block;
  }

  #new-shift {
    position: absolute;
    background-color: white;
    border-radius: 10px;
    box-shadow: 10px 10px 2px 2px rgba(0,0,0,0.3);
    top: 50%;
    left: 50%;
    margin-left: -200px;
    margin-top: -150px;
    z-index: 101;
  }

</style>
</head>
<body>
<h1>Shift Calendar</h1> <br>
<!-- <iframe id="new-shift" width="400" height="300" src="/shifts/new" frameborder="no">Your browser does not support iframes, please use a different browser.</iframe> -->
<!-- <div id='new-shift'>
<h1>New shift</h1>

<form accept-charset="UTF-8" action="/shifts" class="new_shift" id="new_shift" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="ITjVfrSUXODWxgNZQl9YfsvaiWownVLN9YrJrf1KlwU=" /></div>

  <div class="field">
    <label for="shift_start">Start</label><br>
    <select id="shift_start_1i" name="shift[start(1i)]">
<option value="2009">2009</option>
<option value="2010">2010</option>
<option value="2011">2011</option>
<option value="2012">2012</option>
<option value="2013">2013</option>
<option selected="selected" value="2014">2014</option>
<option value="2015">2015</option>
<option value="2016">2016</option>
<option value="2017">2017</option>
<option value="2018">2018</option>
<option value="2019">2019</option>
</select>
<select id="shift_start_2i" name="shift[start(2i)]">
<option value="1">January</option>
<option value="2">February</option>
<option value="3">March</option>
<option value="4">April</option>
<option value="5">May</option>
<option selected="selected" value="6">June</option>
<option value="7">July</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">October</option>
<option value="11">November</option>
<option value="12">December</option>
</select>
<select id="shift_start_3i" name="shift[start(3i)]">
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
<option selected="selected" value="7">7</option>
<option value="8">8</option>
<option value="9">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
</select>
 &mdash; <select id="shift_start_4i" name="shift[start(4i)]">
<option value="00">00</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option selected="selected" value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
</select>
 : <select id="shift_start_5i" name="shift[start(5i)]">
<option value="00">00</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option selected="selected" value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
<option value="32">32</option>
<option value="33">33</option>
<option value="34">34</option>
<option value="35">35</option>
<option value="36">36</option>
<option value="37">37</option>
<option value="38">38</option>
<option value="39">39</option>
<option value="40">40</option>
<option value="41">41</option>
<option value="42">42</option>
<option value="43">43</option>
<option value="44">44</option>
<option value="45">45</option>
<option value="46">46</option>
<option value="47">47</option>
<option value="48">48</option>
<option value="49">49</option>
<option value="50">50</option>
<option value="51">51</option>
<option value="52">52</option>
<option value="53">53</option>
<option value="54">54</option>
<option value="55">55</option>
<option value="56">56</option>
<option value="57">57</option>
<option value="58">58</option>
<option value="59">59</option>
</select>

  </div>
  <div class="field">
    <label for="shift_end">End</label><br>
    <select id="shift_end_1i" name="shift[end(1i)]">
<option value="2009">2009</option>
<option value="2010">2010</option>
<option value="2011">2011</option>
<option value="2012">2012</option>
<option value="2013">2013</option>
<option selected="selected" value="2014">2014</option>
<option value="2015">2015</option>
<option value="2016">2016</option>
<option value="2017">2017</option>
<option value="2018">2018</option>
<option value="2019">2019</option>
</select>
<select id="shift_end_2i" name="shift[end(2i)]">
<option value="1">January</option>
<option value="2">February</option>
<option value="3">March</option>
<option value="4">April</option>
<option value="5">May</option>
<option selected="selected" value="6">June</option>
<option value="7">July</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">October</option>
<option value="11">November</option>
<option value="12">December</option>
</select>
<select id="shift_end_3i" name="shift[end(3i)]">
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
<option selected="selected" value="7">7</option>
<option value="8">8</option>
<option value="9">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
</select>
 &mdash; <select id="shift_end_4i" name="shift[end(4i)]">
<option value="00">00</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option selected="selected" value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
</select>
 : <select id="shift_end_5i" name="shift[end(5i)]">
<option value="00">00</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option selected="selected" value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
<option value="32">32</option>
<option value="33">33</option>
<option value="34">34</option>
<option value="35">35</option>
<option value="36">36</option>
<option value="37">37</option>
<option value="38">38</option>
<option value="39">39</option>
<option value="40">40</option>
<option value="41">41</option>
<option value="42">42</option>
<option value="43">43</option>
<option value="44">44</option>
<option value="45">45</option>
<option value="46">46</option>
<option value="47">47</option>
<option value="48">48</option>
<option value="49">49</option>
<option value="50">50</option>
<option value="51">51</option>
<option value="52">52</option>
<option value="53">53</option>
<option value="54">54</option>
<option value="55">55</option>
<option value="56">56</option>
<option value="57">57</option>
<option value="58">58</option>
<option value="59">59</option>
</select>

  </div>
  <div class="field">
    <label for="shift_desk">Desk</label><br>
    <input id="shift_desk" name="shift[desk]" type="text" />
  </div>
  <div class="field">
    <label for="shift_user">User</label><br>
    <input id="shift_user" name="shift[user]" type="text" />
  </div>
  <div class="field">
    <label for="shift_specialpay">Specialpay</label><br>
    <input name="shift[specialpay]" type="hidden" value="0" /><input id="shift_specialpay" name="shift[specialpay]" type="checkbox" value="1" />
  </div>
  <div class="field">
    <label for="shift_graveyardshift">Graveyardshift</label><br>
    <input name="shift[graveyardshift]" type="hidden" value="0" /><input id="shift_graveyardshift" name="shift[graveyardshift]" type="checkbox" value="1" />
  </div>
  <div class="actions">
    <input name="commit" type="submit" value="Create Shift" action="" />
  </div>
</form>

</div> -->
<br>
<div id='calendar'></div>
<div id='shift-options-menu'>
  <button>Sub Shift</button>
  <button>Split Shift</button>
  <button>Take This Shift</button>
  <button>Take This Shift</button>
</div>
</body>
</html>